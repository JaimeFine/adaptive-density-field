zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkred",
weight = 1,
opacity = 0.8,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "yellow",
weight = 1,
opacity = 0.8,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkred",
weight = 1,
opacity = 0.8,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "yellow",
weight = 1,
opacity = 0.2,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkred",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "yellow",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkred",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "lightyellow",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkgreen",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "lightyellow",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkgreen",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "darkblue",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "blue",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("kde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("vbkde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("vbkde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf_base,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("vbkde_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("dbscan_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
library(dplyr)
library(leaflet)
library(scales)
library(sf)
zoi_sf <- st_read("dbscan_polygon.geojson")
zoi_sf_base <- st_read("zoi_polygons_meters_mid.geojson")
zoi_sf <- st_set_crs(zoi_sf, 4326)
zoi_sf_base <- st_set_crs(zoi_sf_base, 4326)
zoi_sf <- st_make_valid(zoi_sf)
poly_idx <- st_geometry_type(zoi_sf) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf <- zoi_sf[poly_idx, ]
zoi_sf <- st_cast(zoi_sf, "MULTIPOLYGON", warn = FALSE)
zoi_sf_base <- st_make_valid(zoi_sf_base)
poly_idx_base <- st_geometry_type(zoi_sf_base) %in% c("POLYGON", "MULTIPOLYGON")
zoi_sf_base <- zoi_sf_base[poly_idx_base, ]
zoi_sf_base <- st_cast(zoi_sf_base, "MULTIPOLYGON", warn = FALSE)
m <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
# ZOIs as polygons
addPolygons(
data = zoi_sf_base,
color = "red",
weight = 1,
opacity = 1,
fillOpacity = 0.5,
group = "ZOI"
) %>%
# ZOI points (optional, if needed)
addPolygons(
data = zoi_sf,
color = "white",
weight = 1,
opacity = 0.1,
fillOpacity = 0.5,
group = "ZOI"
)
m
